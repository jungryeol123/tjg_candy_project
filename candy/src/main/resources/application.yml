# ===============================
# ✅ 프로젝트 전역 설정 (application.yml)
# ===============================

spring:
  # 프로젝트명
  application:
    name: candy

  # ===============================
  # ✅ 파일 업로드 관련 설정
  # ===============================
  servlet:
    multipart:
      enabled: true
      # 파일 업로드 허용 여부
      max-file-size: 20MB       # 개별 파일 최대 크기
      max-request-size: 20MB    # 요청 전체의 최대 크기

  # ===============================
  # ✅ 데이터베이스 연결 설정
  # ===============================
  # H2 혹은 MySQL 사용 시 — CREATE DATABASE candy CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
  datasource:
    url: jdbc:mysql://localhost:3306/candy?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Seoul
    username: root
    password: mysql1234
    driver-class-name: com.mysql.cj.jdbc.Driver

  # ===============================
  # ✅ JPA 설정
  # ===============================
  jpa:
    hibernate:
      ddl-auto: update   # 엔티티 변경 시 DB 테이블 자동 수정
    show-sql: true       # 실행된 SQL 쿼리 콘솔 출력

  # ===============================
  # ✅ OAuth2 (네이버 + 카카오) 로그인 설정
  # ===============================
  security:
    oauth2:
      client:
        registration:
          # ===============================
          # ✅ 네이버 OAuth2 설정
          # ===============================
          naver:
            client-id: Ap6rPG4ps7AgPG4l_DPi       # 네이버에서 발급받은 Client ID
            client-secret: 4LXJQBePIG             # 네이버 Client Secret
            redirect-uri: "{baseUrl}/login/oauth2/code/naver"  # 로그인 성공 후 리다이렉트될 URI
            authorization-grant-type: authorization_code        # OAuth2 인증 방식
            scope:                              # 로그인 시 받아올 사용자 정보 범위
              - name
              - email
            client-name: Naver                  # 클라이언트 이름

          # ===============================
          # ✅ 카카오 OAuth2 설정
          # ===============================
          kakao:
            client-id: 0c7f1ee8455f9a00270728ad7ad196ec   # 카카오 REST API 키
            client-secret: ""                             # 카카오는 보통 시크릿 미사용
            redirect-uri: http://localhost:8080/login/oauth2/code/kakao
            authorization-grant-type: authorization_code
            client-authentication-method: none
            scope:
              - profile_nickname
            client-name: Kakao

        provider:
          # ===============================
          # ✅ 네이버 API 엔드포인트
          # ===============================
          naver:
            authorization-uri: https://nid.naver.com/oauth2.0/authorize
            token-uri: https://nid.naver.com/oauth2.0/token
            user-info-uri: https://openapi.naver.com/v1/nid/me
            user-name-attribute: response

          # ===============================
          # ✅ 카카오 API 엔드포인트
          # ===============================
          kakao:
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id
  # ===============================
  # ✅ 파일 업로드 경로
  # ===============================
  file:
    upload-dir: C:/dev/tjg_project/agromarket/public/images

# ===============================
# ✅ 카카오페이 결제 설정
# ===============================
kakao:
  pay:
    host: https://kapi.kakao.com               # API 호출 호스트
    admin-key: ed1df4b9d47e4cb603d7dbc8e7124cbb  # 실제 발급받은 관리자 키
    cid: TC0ONETIME                            # 가맹점 코드 (테스트용)
    ready-path: /payment/ready                 # 결제 준비 요청 URI
    approve-path: /payment/approve             # 결제 승인 요청 URI

# ===============================
# ✅ 네이버페이 결제 설정
# ===============================
naver:
  pay:
    host: https://sandbox-nsp.pay.naver.com    # 테스트용 호스트
    merchant-id: np_odjni544553                # 가맹점 ID
    client-id: HN3GGCMDdTgGUfl0kFCo            # 클라이언트 ID
    client-secret: ftZjkkRNMR                  # 클라이언트 시크릿
    chain-id: MG5ZbE9ZaXRrZE4                  # 체인 ID